"use strict";var p=Object.defineProperty;var $=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var S=Object.prototype.hasOwnProperty;var m=(t,e)=>{for(var n in e)p(t,n,{get:e[n],enumerable:!0})},b=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of C(e))!S.call(t,r)&&r!==n&&p(t,r,{get:()=>e[r],enumerable:!(o=$(e,r))||o.enumerable});return t};var T=t=>b(p({},"__esModule",{value:!0}),t);var v={};m(v,{toObj:()=>N,toStr:()=>g});module.exports=T(v);var f=[["&","&amp;"],[" ","&nbsp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"],["\xA2","&cent;"],["\xA3","&pound;"],["\xA5","&yen;"],["\u20AC","&euro;"],["\xA9","&copy;"],["\xAE","&reg;"]],a=[["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"]];function y(t){return t.replace(/\r\n/g,`
`)}function x(t){return t.replace(/^\</,"").replace(/([^\<][!?/])?\>$/,"").replace(/\s+/g," ").trim()}function E(t){return t.tag===null}function I(t,e){for(let n=t.length-1;n>=0;n--)if(e(t[n],n,t))return n;return-1}function d(t){return encodeURIComponent(t)}function h(t){return decodeURIComponent(t)}function A(t){for(let e=0;e<f.length;e++)t=t.replace(new RegExp(f[e][0],"g"),f[e][1]);return t}function R(t){for(let e=f.length-1;e>=0;e--)t=t.replace(new RegExp(f[e][1],"g"),f[e][0]);return t}function j(t){for(let e=0;e<a.length;e++)t=t.replace(new RegExp(a[e][0],"g"),a[e][1]);return t}function w(t){return t.replace(/<!--([\s\S]*?)-->/g,function(...e){return`<!-->${d(e[1])}</!-->`})}function L(t){return t.replace(/(<script(?:[\s\S]*?)>)([\s\S]*?)(<\/script>)/g,function(...e){return`${e[1]}${d(e[2])}${e[3]}`})}function O(t){return t.replace(/(>)([\s\S]*?)(<)/g,function(...e){return`${e[1]}${A(e[2])}${e[3]}`})}function U(t){function e(...n){return`=${d(n[1])} `}return t.replace(/\='([^'>]*?)'/g,e).replace(/\="([^">]*?)"/g,e)}function q(t){let e=x(t).split(/\s/),n={};n.tag=e[0]||"",n.closer=null,n.content=null,n.attributes={},n.children=[],n.isClosing=/^\//.test(n.tag),n.isClosed=n.isClosing,n.tag=n.tag.replace(/^\//,"");for(let o=1;o<e.length;o++){let[r,l]=e[o].split("=");r.length>0&&(typeof l=="string"&&l.length>0?n.attributes[r]=h(l):n.attributes[r]=!0)}return n}function N(t){t=U(O(L(w(y(t)))));let e=0,n=/<[^>]*?>/g,o,r=[],l=[],i;for(;o=n.exec(t);){let c=t.substring(e,o.index).trim();if(c.length>0&&(i={tag:null,closer:null,content:R(c),attributes:{},children:[]},r.push(i)),i=q(o[0]),!i.isClosing)r.push(i),l.push(i);else{let u=I(r,function(s){return!s.isClosed&&s.tag===i.tag});if(u>-1&&(r[u].isClosed=!0,r[u].children=r.splice(u+1,r.length-u+1),["script","!--"].indexOf(r[u].tag)>-1))for(let s=0;s<r[u].children.length;s++)E(r[u].children[s])&&(r[u].children[s].content=h(r[u].children[s].content))}e=n.lastIndex}for(let c of l)c.tag.toUpperCase()==="!DOCTYPE"?c.closer="":c.tag.toLowerCase()==="?xml"?c.closer="?":c.tag==="!--"?c.closer="--":c.isClosed||(c.closer=" /"),delete c.isClosed,delete c.isClosing;return{tag:null,closer:null,content:null,attributes:{},children:r}}function k(t){let e="";for(let[n,o]of Object.entries(t))typeof o=="string"?e+=` ${n}="${j(o)}"`:o===!0&&(e+=` ${n}`);return e}function g(t){let{tag:e,closer:n,attributes:o,content:r,children:l}=t,i="";if(typeof e=="string"){if(i+=`<${e}`,typeof o=="object"&&(i+=k(o)),typeof n!="string"&&(i+=">"),Array.isArray(l))for(let c of l)i+=g(c);typeof n=="string"?i+=`${n}>`:i+=`</${e}>`}else if(typeof r=="string")i=r;else if(Array.isArray(l))for(let c of l)i+=g(c);return i}0&&(module.exports={toObj,toStr});
